<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Computational Environments and Toolchains</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../style/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../style/codehilite/css/default.css" rel="stylesheet">
    <link href="../../../style/misc/css/module.css" rel="stylesheet">
    <link href="../../../style/misc/css/practical.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript"
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

  </head>

<body>

	<!-- Fixed navbar -->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			
			
	    	<div class="collapse navbar-collapse">

				<ul class="nav navbar-nav navbar-left">
					<!-- Moodle -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192126" target="_blank"><img height="18pt" src="../../../style/misc/img/moodle_logo_on_blue.gif" /></a>
						</div>						
					</li>
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192126" target="_blank"><img height="18pt" src="../../../style/misc/img/slack_logo.png" /></a>
						</div>						
					</li>
				</ul>

	      		<ul class="nav navbar-nav navbar-right">

					<!-- module home -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="../../../index.html"><span class="glyphicon glyphicon-home"></span></a>
						</div>						
					</li>
					
					<!-- topics -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-list-alt"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Topics</li>
										
										<li >
											<a href="../../../topics/01-Intro_to_Python/index.html">Intro to Python</a>
										</li>
										
										<li >
											<a href="../../../topics/02-Scientific_Computing_using_Python/index.html">Scientific Computing using Python</a>
										</li>
										
										<li >
											<a href="../../../topics/03-Computational_Problems_involving_Probability/index.html">Computational Problems involving Probability</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Implementing_Models/index.html">Implementing Models</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>

					<!-- resources -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-th-list"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Resources</li>
										
										<li >
											<a href="../../../topics/04-Implementing_Models/index.html#01-Nonlinear_Pendulum">Nonlinear Pendulum</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Implementing_Models/index.html#02-Rocket_Launch">Rocket Launch</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>
								
					<!-- pages-->
	        		<li>
						<div class="navbar-collapse collapse" id="c">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span>Air Density</span
									</a>
									<ul class="dropdown-menu" role="menu">
										
										<li >
											<a href="00-Outline.html">Outline</a>
										</li>
										
										<li >
											<a href="01-Setup.html">Setup</a>
										</li>
										
										<li >
											<a href="02-Thrust_Force.html">Thrust Force</a>
										</li>
										
										<li >
											<a href="03-Atmospheric_Drag_Force.html">Atmospheric Drag Force</a>
										</li>
										
										<li class="active">
											<a href="04-Air_Density.html">Air Density</a>
										</li>
										
										<li >
											<a href="05-Drag_Coefficient.html">Drag Coefficient</a>
										</li>
										
										<li >
											<a href="06-Gravitational_Force.html">Gravitational Force</a>
										</li>
										
										<li >
											<a href="07-Simulate_Launch.html">Simulate Launch</a>
										</li>
										
										<li >
											<a href="21-Model_111.html">Model 111</a>
										</li>
										
										<li >
											<a href="22-Model_211.html">Model 211</a>
										</li>
										
										<li >
											<a href="23-Model_311.html">Model 311</a>
										</li>
										
										<li >
											<a href="24-Model_221.html">Model 221</a>
										</li>
										
										<li >
											<a href="25-Model_222.html">Model 222</a>
										</li>
										
										<li >
											<a href="26-Model_223.html">Model 223</a>
										</li>
										
										<li >
											<a href="27-Model_323.html">Model 323</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li> 
					
	        	</ul>
			</div>
		</div>
	</div>

	<!-- contents -->
	<div class="container">
		
		<ul class="pager">
			
			<li class="previous"><a href="03-Atmospheric_Drag_Force.html">&larr; Previous (Atmospheric Drag Force)</a></li>
			
			
			
			<li class="next"><a href="05-Drag_Coefficient.html">Next (Drag Coefficient) &rarr;</a></li>
			
		</ul>
		
		<h1>Air Density</h1>
<p>Air density is more complicated to calculate. Here you have few options (in increasing order of difficulty and accuracy):</p>
<ol>
<li>Assume air density is constant and just use the value at sea level. \(\rho=1.22655\).</li>
<li>Approximate change in density following an exponential function.</li>
</ol>
<p>$$
    \rho(z) = 1.226552 \mathrm{e}^{-0.000114968827 z}
$$</p>
<ol>
<li>Implement more and more detailed model based on the height and the number of separate layers in the atmosphere. This is more complicated but is more accurate as the density will decrease exponentially as the rocket ascends through the atmosphere.</li>
</ol>
<p>The variable density model used here is described in the <a href="http://www.braeunig.us/space/atmmodel.htm">detailed model of the Earth's atmosphere</a>.</p>
<p>For altitudes under 86 km (the troposphere, stratosphere, and mesosphere), the air density can be given by the ideal gas law:
$$
\rho(z)=\frac{M \cdot P(z)}{R \cdot T(z)}
$$</p>
<p>where</p>
<ul>
<li>\(R\) is the gas constant (\(8.314\ \mathrm{J} \mathrm{K}^{-1} \mathrm{mol}^{âˆ’1}\)) </li>
<li>\(M\) is the molar mass of air (\(0.029\ \mathrm{kg}/\mathrm{mol}\)).  </li>
<li>\(T(z)\) and \(P(z)\) are atmospheric temperature and pressure, respectively, and are dependent on altitude.</li>
</ul>
<p>The atmospheric temperature and pressure, \(T(z)\) and \(P(z)\), are determined by barometric equations. <a href="http://www.braeunig.us/space/atmmodel.htm">Table 4 of the Earth's atmosphere model</a> lists the barometric equations for seven layers within the atmospheric up to height of 86 km.</p>
<p>Above 86 km, in the thermosphere, temperature rises more quickly because the atmosphere no longer shields the space from the sun's rays.  Pressure and air density, now very small, and drop off with a quartic relationship to altitude:</p>
<p>$$
\rho(z) = \exp(A z^{4} + B z^{3} + C z^{2} + D z + E)
$$</p>
<p>$$
P(z) = \exp(A z^{4} + B z^{3} + C z^{2} + D z + E)
$$</p>
<p>The coefficients for both pressure and density (\(A\), \(B\), \(C\), \(D\) and \(E\)) vary in different high-altitude regions (10 regions).  <a href="http://www.braeunig.us/space/atmmodel.htm">Table 8 of the Earth's atmosphere model</a> lists the coefficients for both pressure and density for 10 different regions, based on height (in km).</p>
<p>Formula for the temperature above 86 km is given in <a href="http://www.braeunig.us/space/atmmodel.htm">table 7 of the Earth's atmosphere model</a> lists the barometric equations for seven layers within the atmospheric up to height of 86 km.</p>
<p>To correctly calculate atmospheric drag in my rocket simulation, you need to:</p>
<ul>
<li>Implement function </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">temperature</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>which returns temperature at height \(z\) [m]. 
The function needs to use different formula based on the height as described above. Since your function, most probably, contains an <code>if</code> statement (to deal with the separate atmospheric layers). You should use</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">temperature</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">temperature</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>to ensure that your function will deal with vector inputs correctly.</p>
<ul>
<li>And similary implement <code>pressure(z, param)</code> which returns pressure at height \(z\) [m], and 
function <code>density(z, param)</code> which returns density using <code>temperature(z, param)</code> and <code>pressure(z, param)</code>. </li>
</ul>
<h2>Task 2A</h2>
<ul>
<li>Implement function to compute the atmospheric density using one of the above three options, using function signature.  </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code> <span class="k">def</span> <span class="nf">density</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>If using the third option then you should compare your implementation of <code>temperature(z,param)</code> and <code>pressure(z,param)</code> with the following graphs.</p>
<figure>
  <img src="files/atmospheric_temperature.png" alt="" width="80%" >
  <figcaption>Atmospheric temperature by altitude</figcaption>
</figure>

<figure>
  <img src="files/atmospheric_pressure.png" alt="" width="80%" >
  <figcaption>Atmospheric pressure by altitude</figcaption>
</figure>

<p>The following graph shows the output of the three different models for the air density.</p>
<figure>
  <img src="files/atmospheric_density_models.png" alt="" width="80%" >
  <figcaption>Atmospheric density by altitude</figcaption>
</figure>
		
		<ul class="pager">
			
			<li class="previous"><a href="03-Atmospheric_Drag_Force.html">&larr; Previous (Atmospheric Drag Force)</a></li>
			
			
			
			<li class="next"><a href="05-Drag_Coefficient.html">Next (Drag Coefficient) &rarr;</a></li>
			
		</ul>

	</div>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../../style/bootstrap/js/bootstrap.min.js"></script>
	
  </body>
</html>