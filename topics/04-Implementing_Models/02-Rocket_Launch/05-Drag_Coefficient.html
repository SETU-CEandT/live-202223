<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Computational Environments and Toolchains</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../style/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../style/codehilite/css/default.css" rel="stylesheet">
    <link href="../../../style/misc/css/module.css" rel="stylesheet">
    <link href="../../../style/misc/css/practical.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript"
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

  </head>

<body>

	<!-- Fixed navbar -->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			
			
	    	<div class="collapse navbar-collapse">

				<ul class="nav navbar-nav navbar-left">
					<!-- Moodle -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192126" target="_blank"><img height="18pt" src="../../../style/misc/img/moodle_logo_on_blue.gif" /></a>
						</div>						
					</li>
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192126" target="_blank"><img height="18pt" src="../../../style/misc/img/slack_logo.png" /></a>
						</div>						
					</li>
				</ul>

	      		<ul class="nav navbar-nav navbar-right">

					<!-- module home -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="../../../index.html"><span class="glyphicon glyphicon-home"></span></a>
						</div>						
					</li>
					
					<!-- topics -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-list-alt"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Topics</li>
										
										<li >
											<a href="../../../topics/01-Intro_to_Python/index.html">Intro to Python</a>
										</li>
										
										<li >
											<a href="../../../topics/02-Scientific_Computing_using_Python/index.html">Scientific Computing using Python</a>
										</li>
										
										<li >
											<a href="../../../topics/03-Computational_Problems_involving_Probability/index.html">Computational Problems involving Probability</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Implementing_Models/index.html">Implementing Models</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>

					<!-- resources -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-th-list"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Resources</li>
										
										<li >
											<a href="../../../topics/04-Implementing_Models/index.html#01-Nonlinear_Pendulum">Nonlinear Pendulum</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Implementing_Models/index.html#02-Rocket_Launch">Rocket Launch</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>
								
					<!-- pages-->
	        		<li>
						<div class="navbar-collapse collapse" id="c">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span>Drag Coefficient</span
									</a>
									<ul class="dropdown-menu" role="menu">
										
										<li >
											<a href="00-Outline.html">Outline</a>
										</li>
										
										<li >
											<a href="01-Setup.html">Setup</a>
										</li>
										
										<li >
											<a href="02-Thrust_Force.html">Thrust Force</a>
										</li>
										
										<li >
											<a href="03-Atmospheric_Drag_Force.html">Atmospheric Drag Force</a>
										</li>
										
										<li >
											<a href="04-Air_Density.html">Air Density</a>
										</li>
										
										<li class="active">
											<a href="05-Drag_Coefficient.html">Drag Coefficient</a>
										</li>
										
										<li >
											<a href="06-Gravitational_Force.html">Gravitational Force</a>
										</li>
										
										<li >
											<a href="07-Simulate_Launch.html">Simulate Launch</a>
										</li>
										
										<li >
											<a href="21-Model_111.html">Model 111</a>
										</li>
										
										<li >
											<a href="22-Model_211.html">Model 211</a>
										</li>
										
										<li >
											<a href="23-Model_311.html">Model 311</a>
										</li>
										
										<li >
											<a href="24-Model_221.html">Model 221</a>
										</li>
										
										<li >
											<a href="25-Model_222.html">Model 222</a>
										</li>
										
										<li >
											<a href="26-Model_223.html">Model 223</a>
										</li>
										
										<li >
											<a href="27-Model_323.html">Model 323</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li> 
					
	        	</ul>
			</div>
		</div>
	</div>

	<!-- contents -->
	<div class="container">
		
		<ul class="pager">
			
			<li class="previous"><a href="04-Air_Density.html">&larr; Previous (Air Density)</a></li>
			
			
			
			<li class="next"><a href="06-Gravitational_Force.html">Next (Gravitational Force) &rarr;</a></li>
			
		</ul>
		
		<h1>Wave Drag Coefficient</h1>
<p>The drag coefficient is difficult to determine without making physical tests on the rocket, but we will assume a value of \(C_D=0.75\), which represents a flying shape somewhere between a cylinder and a cone.  This is a relatively high drag coefficient; airfoils, for comparison, have values of \(C_D\) well below 0.05.</p>
<p>However, this constant value does not take into drag force exerted on an aircraft by the pressure due to compressed waves of air.  </p>
<p>As in the <a href="04-Air_Density.html">air density sub-task</a> you have a few options (in increasing order of difficulty and accuracy):</p>
<ul>
<li>You could use a constant value, given above, for the drag,</li>
<li>or you could implement the formula, given below, which takes the wave drag into effect.</li>
</ul>
<p>The force exerted on an aircraft by the pressure due to compressed waves of air comes into play once the rocket exceeds its critical Mach number (typically Mach 0.8), and approaches the sound barrier.  When an object approaches the speed of sound, it begins to move faster than the air waves in front of it, causing a rapid rise in drag.  The peak in drag at Mach 1 causes the sound barrier, which is the primary obstacle for rockets attempting to leave the Earth's atmosphere. </p>
<p>Exact calculations of the relationship between drag and Mach number are difficult and rely heavily on the specific shape of the rocket. One equation, however, the Prandtl-Glauert Rule, can help approximate the effects of transonic drag forces in rocket simulations.</p>
<p>One equation, however, the Prandtl-Glauert Rule, can help approximate the effects of transonic drag forces in rocket simulations. The Prandtl-Glauert Rule states that when dealing with compressible fluids, the aerodynamic coefficients (e.g. pressure, lift, drag, etc) must be divided by \(\beta\), the Prandtl-Glauert Factor, which depends on the freestream Mach number.  The Mach number is defined as the ratio of velocity over sound speed, and the sound speed in turn depends on air temperature. This is implemented as follows:</p>
<p>Compute the sound speed as function of temperature </p>
<p>$$
a_{\infty} = \sqrt{\gamma\ R_{\mathrm{sp}}\ T(z)}
$$</p>
<p>where </p>
<ul>
<li>\(\gamma\) is the ratio of specific heats (about 1.4 on average),</li>
<li>\(R_{sp}\) is the specific gas constant (\(287\ \mathrm{J} \mathrm{kg}^{-1}\mathrm{K}^{-1}\) for dry air),</li>
<li>and \(T(z)\) is the temperature at height \(z\).</li>
</ul>
<p>Compute the Mach number using </p>
<p>$$
M_{\infty} = \frac{v}{a_{\infty}} \
$$</p>
<p>Next, compute \(\beta\) using </p>
<p>$$
\beta=
\begin{cases}
    \sqrt{1-M_{\infty}^{2}}, &amp; M_{\infty}\le1\\
    \sqrt{M_{\infty}^{2}-1}, &amp; M_{\infty}&gt;1
\end{cases}
$$</p>
<p>Then the drag coefficient corrected for wave effects is then
$$
C_{D, \text{corrected}} = \frac{C_{D}}{\beta}
$$</p>
<p>However, there is a computational issue when \(M_{\infty}\) is too close to 1.  In this case we can end up with an overflow error due to dividing by a number that is nearly zero.  The problem is not just a computational problem &mdash; the Prandtl-Glauert Rule is not valid for accurate calculations in the transonic region, only being valid for Mach numbers below 0.8 and above  1.2. However, we will use it but tweak it to suit our needs as follows:</p>
<p>$$
M_{\infty} =
\begin{cases}
    0.99999, &amp; 0.99999&lt; M_{\infty}\le 1\\
    1.00001, &amp; 1&lt; M_{\infty}\le 1.00001
\end{cases}
$$</p>
<h2>Task 2B</h2>
<p>Implement function to compute the drag coefficient corrected for wave drag effect using function signature</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">drag_coefficient</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>and generate the following graph. As you can see from the graph the impact of the wave drag as the rocket approaches Mach 1 is significant and it plays a large part in determining the rocket maximum altitude. In effect this means that if you pick option 1 above, and treat the drag coefficient as constant (=0.75), then the rocket launch profile will be significantly different. </p>
<figure>
  <img src="files/drag_coefficient.png" alt="" width="80%" >
  <figcaption>Drag coefficient corrected for wave drag.</figcaption>
</figure>

<p>To help you debug, the following graph shows drag coefficient at various altitude. You don't have to recreate this graph.</p>
<figure>
  <img src="files/drag_coefficient_range.png" alt="" width="80%" >
  <figcaption>Drag coefficient corrected for wave drag at various altitudes.</figcaption>
</figure>
		
		<ul class="pager">
			
			<li class="previous"><a href="04-Air_Density.html">&larr; Previous (Air Density)</a></li>
			
			
			
			<li class="next"><a href="06-Gravitational_Force.html">Next (Gravitational Force) &rarr;</a></li>
			
		</ul>

	</div>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../../style/bootstrap/js/bootstrap.min.js"></script>
	
  </body>
</html>